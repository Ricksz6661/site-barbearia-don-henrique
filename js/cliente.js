function copiarPix(){ navigator.clipboard.writeText(document.getElementById("pixKey").innerText); alert("Chave Pix copiada!"); }
function carregarServicos(){ let servicos = JSON.parse(localStorage.getItem("servicos")) || {}; let container = document.getElementById("servicosContainer"); container.innerHTML="<p><strong>Escolha os serviços:</strong></p>"; for(let s in servicos){ let checkbox = document.createElement("input"); checkbox.type="checkbox"; checkbox.value=s; checkbox.id="serv_"+s; let label = document.createElement("label"); label.htmlFor="serv_"+s; label.appendChild(checkbox); label.appendChild(document.createTextNode(`${s} - R$${servicos[s]}`)); container.appendChild(label); } }
function carregarHorarios(){ let horarios = JSON.parse(localStorage.getItem("horarios")) || ["09:00","10:00","11:00","14:00","15:00","16:00"]; let select = document.getElementById("horario"); select.innerHTML="<option value=''>Selecione o horário</option>"; let agendamentos = JSON.parse(localStorage.getItem("agendamentos")) || []; let horariosDisponiveis = horarios.filter(h => !agendamentos.find(a=>a.horario===h)); horariosDisponiveis.forEach(h=>{ let opt=document.createElement("option"); opt.value=h; opt.textContent=h; select.appendChild(opt); }); }
document.getElementById("agendamentoForm").addEventListener("submit", function(e){ e.preventDefault(); let servicosEscolhidos = Array.from(document.querySelectorAll("#servicosContainer input[type='checkbox']:checked")).map(c=>c.value); if(servicosEscolhidos.length===0) return alert("Escolha pelo menos um serviço!"); let servicos = JSON.parse(localStorage.getItem("servicos")) || {}; let valorTotal = servicosEscolhidos.reduce((sum,s)=>sum+Number(servicos[s]),0); let agendamento = { nome: document.getElementById("nome").value, telefone: document.getElementById("telefone").value, email: document.getElementById("email").value, horario: document.getElementById("horario").value, servicos: servicosEscolhidos, valor: valorTotal, data: new Date() }; let agendamentos = JSON.parse(localStorage.getItem("agendamentos")) || []; agendamentos.push(agendamento); localStorage.setItem("agendamentos", JSON.stringify(agendamentos)); document.getElementById("valorTotal").innerText = valorTotal; document.getElementById("pixContainer").style.display = "block"; this.reset(); carregarHorarios(); });
function enviarFeedback(){ let nome=document.getElementById("feedbackNome").value; let comentario = document.getElementById("feedbackComentario").value; let estrelas = document.getElementById("feedbackEstrelas").value; if(!comentario || !nome) return alert("Preencha seu nome e comentário!"); let feedbacks = JSON.parse(localStorage.getItem("feedbacks")) || []; feedbacks.push({nome, comentario, estrelas}); localStorage.setItem("feedbacks", JSON.stringify(feedbacks)); alert("Feedback enviado!"); document.getElementById("feedbackComentario").value=""; document.getElementById("feedbackNome").value=""; }
carregarServicos(); carregarHorarios();